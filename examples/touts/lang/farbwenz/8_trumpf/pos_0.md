
Hand | Gewinnwahrscheinlichkeit
-- | -
eu gu hu su ha hz ho hk | 100.0%
eu gu hu su ha hz ho h9 | 100.0%
eu gu hu su ha hz ho h8 | 100.0%
eu gu hu su ha hz ho h7 | 100.0%
eu gu hu su ha hz hk h9 | 100.0%
eu gu hu su ha hz hk h8 | 100.0%
eu gu hu su ha hz hk h7 | 100.0%
eu gu hu su ha hz h9 h8 | 100.0%
eu gu hu su ha hz h9 h7 | 100.0%
eu gu hu su ha hz h8 h7 | 100.0%
eu gu hu su ha ho hk h9 | 100.0%
eu gu hu su ha ho hk h8 | 100.0%
eu gu hu su ha ho hk h7 | 100.0%
eu gu hu su ha ho h9 h8 | 100.0%
eu gu hu su ha ho h9 h7 | 100.0%
eu gu hu su ha ho h8 h7 | 100.0%
eu gu hu su ha hk h9 h8 | 100.0%
eu gu hu su ha hk h9 h7 | 100.0%
eu gu hu su ha hk h8 h7 | 100.0%
eu gu hu su ha h9 h8 h7 | 100.0%
eu gu hu su hz ho hk h9 | 100.0%
eu gu hu su hz ho hk h8 | 100.0%
eu gu hu su hz ho hk h7 | 100.0%
eu gu hu su hz ho h9 h8 | 100.0%
eu gu hu su hz ho h9 h7 | 100.0%
eu gu hu su hz ho h8 h7 | 100.0%
eu gu hu su hz hk h9 h8 | 100.0%
eu gu hu su hz hk h9 h7 | 100.0%
eu gu hu su hz hk h8 h7 | 100.0%
eu gu hu su hz h9 h8 h7 | 100.0%
eu gu hu su ho hk h9 h8 | 100.0%
eu gu hu su ho hk h9 h7 | 100.0%
eu gu hu su ho hk h8 h7 | 100.0%
eu gu hu su ho h9 h8 h7 | 100.0%
eu gu hu su hk h9 h8 h7 | 100.0%
eu gu hu ha hz ho hk h9 | 100.0%
eu gu hu ha hz ho hk h8 | 100.0%
eu gu hu ha hz ho hk h7 | 100.0%
eu gu hu ha hz ho h9 h8 | 100.0%
eu gu hu ha hz ho h9 h7 | 100.0%
eu gu hu ha hz ho h8 h7 | 100.0%
eu gu hu ha hz hk h9 h8 | 100.0%
eu gu hu ha hz hk h9 h7 | 100.0%
eu gu hu ha hz hk h8 h7 | 100.0%
eu gu hu ha hz h9 h8 h7 | 100.0%
eu gu hu ha ho hk h9 h8 | 100.0%
eu gu hu ha ho hk h9 h7 | 100.0%
eu gu hu ha ho hk h8 h7 | 100.0%
eu gu hu ha ho h9 h8 h7 | 100.0%
eu gu hu ha hk h9 h8 h7 | 100.0%
eu gu hu hz ho hk h9 h8 | 100.0%
eu gu hu hz ho hk h9 h7 | 100.0%
eu gu hu hz ho hk h8 h7 | 100.0%
eu gu hu hz ho h9 h8 h7 | 100.0%
eu gu hu hz hk h9 h8 h7 | 100.0%
eu gu hu ho hk h9 h8 h7 | 100.0%
eu gu su ha hz ho hk h9 | 91.97%
eu gu su ha hz ho hk h8 | 91.66%
eu gu su ha hz ho hk h7 | 91.72%
eu gu su ha hz ho h9 h8 | 91.72%
eu gu su ha hz ho h9 h7 | 91.7%
eu gu su ha hz ho h8 h7 | 91.75999999999999%
eu gu su ha hz hk h9 h8 | 92.04%
eu gu su ha hz hk h9 h7 | 91.56%
eu gu su ha hz hk h8 h7 | 91.3%
eu gu su ha hz h9 h8 h7 | 91.59%
eu gu su ha ho hk h9 h8 | 91.59%
eu gu su ha ho hk h9 h7 | 91.67999999999999%
eu gu su ha ho hk h8 h7 | 91.36999999999999%
eu gu su ha ho h9 h8 h7 | 92.29%
eu gu su ha hk h9 h8 h7 | 91.44%
eu gu su hz ho hk h9 h8 | 91.55%
eu gu su hz ho hk h9 h7 | 92.17%
eu gu su hz ho hk h8 h7 | 92.04%
eu gu su hz ho h9 h8 h7 | 91.79%
eu gu su hz hk h9 h8 h7 | 92.17999999999999%
eu gu su ho hk h9 h8 h7 | 91.31%
eu gu ha hz ho hk h9 h8 | 91.64999999999999%
eu gu ha hz ho hk h9 h7 | 91.46%
eu gu ha hz ho hk h8 h7 | 91.69%
eu gu ha hz ho h9 h8 h7 | 91.53%
eu gu ha hz hk h9 h8 h7 | 91.49000000000001%
eu gu ha ho hk h9 h8 h7 | 92.08%
eu gu hz ho hk h9 h8 h7 | 92.09%
eu hu su ha hz ho hk h9 | 47.71%
eu hu su ha hz ho hk h8 | 47.49%
eu hu su ha hz ho hk h7 | 47.46%
eu hu su ha hz ho h9 h8 | 47.699999999999996%
eu hu su ha hz ho h9 h7 | 48.32%
eu hu su ha hz ho h8 h7 | 47.199999999999996%
eu hu su ha hz hk h9 h8 | 47.11%
eu hu su ha hz hk h9 h7 | 47.339999999999996%
eu hu su ha hz hk h8 h7 | 47.64%
eu hu su ha hz h9 h8 h7 | 47.43%
eu hu su ha ho hk h9 h8 | 47.92%
eu hu su ha ho hk h9 h7 | 48.29%
eu hu su ha ho hk h8 h7 | 47.65%
eu hu su ha ho h9 h8 h7 | 47.18%
eu hu su ha hk h9 h8 h7 | 47.07%
eu hu su hz ho hk h9 h8 | 46.650000000000006%
eu hu su hz ho hk h9 h7 | 47.15%
eu hu su hz ho hk h8 h7 | 46.589999999999996%
eu hu su hz ho h9 h8 h7 | 48.08%
eu hu su hz hk h9 h8 h7 | 47.599999999999994%
eu hu su ho hk h9 h8 h7 | 47.48%
eu hu ha hz ho hk h9 h8 | 47.74%
eu hu ha hz ho hk h9 h7 | 46.68%
eu hu ha hz ho hk h8 h7 | 47.43%
eu hu ha hz ho h9 h8 h7 | 46.650000000000006%
eu hu ha hz hk h9 h8 h7 | 47.199999999999996%
eu hu ha ho hk h9 h8 h7 | 46.75%
eu hu hz ho hk h9 h8 h7 | 47.699999999999996%
eu su ha hz ho hk h9 h8 | 26.08%
eu su ha hz ho hk h9 h7 | 25.56%
eu su ha hz ho hk h8 h7 | 25.82%
eu su ha hz ho h9 h8 h7 | 26.07%
eu su ha hz hk h9 h8 h7 | 25.64%
eu su ha ho hk h9 h8 h7 | 25.53%
eu su hz ho hk h9 h8 h7 | 25.56%
eu ha hz ho hk h9 h8 h7 | 25.080000000000002%

```
import itertools
import subprocess

veccard_trumpf = "eu gu hu su ha hz ho hk h9 h8 h7".split(" ")

# open table
print("") # according to https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/organizing-information-with-tables, a newline is necessary before tables
print("Hand | Gewinnwahrscheinlichkeit")
print("-- | -")

for veccard_hand in itertools.combinations(veccard_trumpf, 8):
    if veccard_trumpf[0] not in veccard_hand: # inefficient but makes code simpler
        continue
    str_hand = " ".join(veccard_hand)
    n_high_trumpf_with_active_player = 0
    vecstr_opponent_is_weak_enough = []
    for card_trumpf in veccard_trumpf:
        if card_trumpf in veccard_hand:
            n_high_trumpf_with_active_player = n_high_trumpf_with_active_player + 1
        else:
            vecstr_opponent_is_weak_enough.append(f"ctx.trumpf(ctx.who_has_{card_trumpf}()) <= {n_high_trumpf_with_active_player}")
    str_openschafkopf_output = subprocess.run(
        [
            "target/release/openschafkopf",
            "hand-stats",
            "--rules", "herz wenz von 0",
            "--hand", str_hand,
            "--simulate-hands", "10000",
            "--inspect", " && ".join(vecstr_opponent_is_weak_enough),
            # "--json", # TODO support json in hand-stats
        ],
        capture_output=True,
        text=True,
        check=True
    ).stdout
    print(str_hand + " | " + str(float(str_openschafkopf_output.splitlines()[-1].split(" ")[1])*100) + "%")

print("") # the table

# for reference, also print this file's contents
print("```")
with open(__file__, "r") as file_this_script:
    print(file_this_script.read())
print("```")

```
